document.addEventListener('DOMContentLoaded', function(){console.log('üöÄ Carousel Manager inicializando...');function initCarousel(carouselId, prevButtonId, nextButtonId){const carousel = document.getElementById(carouselId);const prevBtn = document.getElementById(prevButtonId);const nextBtn = document.getElementById(nextButtonId);if (!carousel || !prevBtn || !nextBtn){console.warn(`‚ö†Ô∏è Elementos del carrusel ${carouselId}no encontrados`);return;}let currentPage = 0;const totalPages = carousel.children.length;console.log(`‚úÖ Inicializando carrusel ${carouselId}con ${totalPages}p√°ginas`);function updateCarousel(){const translateX = -currentPage * 100;carousel.style.transform = `translateX(${translateX}%)`;console.log(`üéØ Carrusel ${carouselId}:P√°gina ${currentPage + 1}de ${totalPages}, TranslateX:${translateX}%`);prevBtn.disabled = currentPage === 0;nextBtn.disabled = currentPage === totalPages - 1;if (currentPage === 0){prevBtn.classList.add('opacity-50', 'cursor-not-allowed');prevBtn.classList.remove('hover:scale-110');}else{prevBtn.classList.remove('opacity-50', 'cursor-not-allowed');prevBtn.classList.add('hover:scale-110');}if (currentPage === totalPages - 1){nextBtn.classList.add('opacity-50', 'cursor-not-allowed');nextBtn.classList.remove('hover:scale-110');}else{nextBtn.classList.remove('opacity-50', 'cursor-not-allowed');nextBtn.classList.add('hover:scale-110');}updatePageIndicators();updatePageCounter();}function updatePageIndicators(){const indicators = document.querySelectorAll('.page-indicator');indicators.forEach((indicator, index) =>{if (index === currentPage){indicator.classList.remove('bg-gray-300', 'hover:bg-gray-400');indicator.classList.add('bg-blue-600', 'scale-125');}else{indicator.classList.remove('bg-blue-600', 'scale-125');indicator.classList.add('bg-gray-300', 'hover:bg-gray-400');}});}function updatePageCounter(){const currentPageDisplay = document.getElementById('current-page-display');if (currentPageDisplay){currentPageDisplay.textContent = currentPage + 1;}}prevBtn.addEventListener('click', function(e){e.preventDefault();e.stopPropagation();if (currentPage > 0){currentPage--;updateCarousel();console.log(`‚¨ÖÔ∏è Navegando a p√°gina ${currentPage + 1}en ${carouselId}`);}});nextBtn.addEventListener('click', function(e){e.preventDefault();e.stopPropagation();if (currentPage < totalPages - 1){currentPage++;updateCarousel();console.log(`‚û°Ô∏è Navegando a p√°gina ${currentPage + 1}en ${carouselId}`);}});document.addEventListener('click', function(e){if (e.target.classList.contains('page-indicator')){const targetPage = parseInt(e.target.dataset.page);if (targetPage !== currentPage && targetPage >= 0 && targetPage < totalPages){currentPage = targetPage;updateCarousel();console.log(`üéØ Navegando directamente a p√°gina ${currentPage + 1}en ${carouselId}`);}}});let startX = 0;let endX = 0;carousel.addEventListener('touchstart', function(e){startX = e.touches[0].clientX;},{passive:true});carousel.addEventListener('touchend', function(e){endX = e.changedTouches[0].clientX;const diff = startX - endX;const threshold = 50;if (Math.abs(diff) > threshold){if (diff > 0 && currentPage < totalPages - 1){currentPage++;updateCarousel();console.log(`üì± Swipe izquierda - P√°gina ${currentPage + 1}`);}else if (diff < 0 && currentPage > 0){currentPage--;updateCarousel();console.log(`üì± Swipe derecha - P√°gina ${currentPage + 1}`);}}},{passive:true});updateCarousel();console.log(`‚úÖ Carrusel ${carouselId}inicializado correctamente`);return{goToPage:function(page){if (page >= 0 && page < totalPages){currentPage = page;updateCarousel();}}, getCurrentPage:function(){return currentPage;}, getTotalPages:function(){return totalPages;}};}const productsCarousel = initCarousel( 'products-carousel', 'products-prev', 'products-next' );const brandsCarousel = initCarousel( 'brands-carousel', 'brands-prev', 'brands-next' );console.log('üéâ Carousel Manager inicializado completamente');window.debugCarousel = function(){console.log('üîç Estado de los carruseles:');console.log('Products carousel:', document.getElementById('products-carousel'));console.log('Products prev button:', document.getElementById('products-prev'));console.log('Products next button:', document.getElementById('products-next'));if (productsCarousel){console.log('Products carousel info:',{currentPage:productsCarousel.getCurrentPage(), totalPages:productsCarousel.getTotalPages()});}if (brandsCarousel){console.log('Brands carousel info:',{currentPage:brandsCarousel.getCurrentPage(), totalPages:brandsCarousel.getTotalPages()});}};window.goToPage = function(carouselType, page){if (carouselType === 'products' && productsCarousel){productsCarousel.goToPage(page);}else if (carouselType === 'brands' && brandsCarousel){brandsCarousel.goToPage(page);}};});